{"updatedAt":"2025-11-23T01:42:35.727Z","createdAt":"2025-11-23T01:41:59.313Z","id":"uHLn3qmIi4h9SZPT","name":"[Slack] Delete Message","active":false,"isArchived":false,"nodes":[{"parameters":{"workflowInputs":{"values":[{"name":"slack_user_id"},{"name":"channel_id"},{"name":"message_ts"}]}},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-208,-80],"id":"3ae0c74f-e41c-46af-8251-504a27219fc9","name":"When Executed by Another Workflow"},{"parameters":{"operation":"executeQuery","query":"SELECT get_user_id_by_slack_user_id('{{ $json.slack_user_id }}');","options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.6,"position":[16,-80],"id":"f8c40465-c7b4-4dd5-a1d5-101882b63e64","name":"Get Tomo User by Slack User ID","credentials":{"postgres":{"id":"hcrXy03eb7cfXzVe","name":"Supabase TX Pooler"}}},{"parameters":{"operation":"executeQuery","query":"SELECT get_slack_token('{{ $json.get_user_id_by_slack_user_id }}');","options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.6,"position":[240,-80],"id":"48d0edb6-f86c-47e8-8f80-0d03562b2f54","name":"Get Slack Token","credentials":{"postgres":{"id":"hcrXy03eb7cfXzVe","name":"Supabase TX Pooler"}}},{"parameters":{"method":"POST","url":"https://slack.com/api/chat.delete","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $json.get_slack_token.token }}"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"channel","value":"={{ $('When Executed by Another Workflow').item.json.channel_id }}"},{"name":"text","value":"={{ $('When Executed by Another Workflow').item.json.text }}"},{"name":"ts","value":"={{ $('When Executed by Another Workflow').item.json.message_ts }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.3,"position":[464,-80],"id":"1d08bf59-644b-4d65-a011-26bff5a55e8b","name":"Delete Message"}],"connections":{"When Executed by Another Workflow":{"main":[[{"node":"Get Tomo User by Slack User ID","type":"main","index":0}]]},"Get Tomo User by Slack User ID":{"main":[[{"node":"Get Slack Token","type":"main","index":0}]]},"Get Slack Token":{"main":[[{"node":"Delete Message","type":"main","index":0}]]},"Delete Message":{"main":[[]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{"When Executed by Another Workflow":[{"json":{"slack_user_id":"U07U3MJ9SQY","channel_id":"D09TR7U4DBL","message_ts":"1763860845.170519"}}]},"versionId":"ea9bb461-a6ae-4f44-b5f8-977d5d40f611","triggerCount":0,"shared":[{"updatedAt":"2025-11-23T01:41:59.313Z","createdAt":"2025-11-23T01:41:59.313Z","role":"workflow:owner","workflowId":"uHLn3qmIi4h9SZPT","projectId":"8nyfoRCh3nEYWaKJ"}],"tags":[]}