{"updatedAt":"2025-11-22T21:48:53.126Z","createdAt":"2025-11-22T21:44:56.595Z","id":"XFQFb7sUMTyKg2dV","name":"[Slack] Get Cached Slack Conversation","active":false,"isArchived":false,"nodes":[{"parameters":{"workflowInputs":{"values":[{"name":"slack_user_id"}]}},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-1088,-48],"id":"d567195b-6472-4c63-8483-604c149d7c1d","name":"When Executed by Another Workflow"},{"parameters":{"operation":"get","propertyName":"chat_history","key":"={{ $json.slack_user_id }}_SLACK","options":{"dotNotation":true}},"type":"n8n-nodes-base.redis","typeVersion":1,"position":[-864,-48],"id":"5f5a8ce3-9bfe-4ec6-a1b1-a29b03bb4b71","name":"Get Cached Chat History","credentials":{"redis":{"id":"UKWNNzdg9opjGBYW","name":"Redis Cache"}}},{"parameters":{"assignments":{"assignments":[{"id":"08808018-7fe8-4f13-87c2-0ca1cf0ca211","name":"chat_history","value":"={{ JSON.parse($json.chat_history) }}","type":"array"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-640,-48],"id":"7e9a86bc-17bc-490d-ba10-d50b765a26b7","name":"Parse Chat History"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"3f30d3a0-7e86-41ad-885a-f6a43f9665a1","leftValue":"={{ $json.chat_history }}","rightValue":"","operator":{"type":"array","operation":"notExists","singleValue":true}},{"id":"db212835-39e0-47fd-8ad7-a0151a408f87","leftValue":"={{ $json.chat_history }}","rightValue":"","operator":{"type":"array","operation":"empty","singleValue":true}}],"combinator":"or"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-416,-48],"id":"e2c68c33-ef0d-4c3b-95aa-b3dd254b28eb","name":"Does Not Exist?"},{"parameters":{"workflowId":{"__rl":true,"value":"xrW7FypABHxEoIUp","mode":"list","cachedResultUrl":"/workflow/xrW7FypABHxEoIUp","cachedResultName":"[Slack] Get Slack Conversation"},"workflowInputs":{"mappingMode":"defineBelow","value":{"slack_user_id":"={{ $('When Executed by Another Workflow').item.json.slack_user_id }}"},"matchingColumns":["slack_user_id"],"schema":[{"id":"slack_user_id","displayName":"slack_user_id","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.2,"position":[-192,-112],"id":"8ebb817b-a854-4da5-aee4-0eac53d26f4d","name":"Compute Chat History"},{"parameters":{"assignments":{"assignments":[{"id":"a0ef7e2a-7bf3-4806-8646-a147178007a5","name":"chat_history","value":"={{ $json.chat_history }}","type":"array"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[32,-32],"id":"1901ea0e-a94b-4396-bcd9-4173eb685677","name":"Unify Chat History"}],"connections":{"When Executed by Another Workflow":{"main":[[{"node":"Get Cached Chat History","type":"main","index":0}]]},"Get Cached Chat History":{"main":[[{"node":"Parse Chat History","type":"main","index":0}]]},"Parse Chat History":{"main":[[{"node":"Does Not Exist?","type":"main","index":0}]]},"Does Not Exist?":{"main":[[{"node":"Compute Chat History","type":"main","index":0}],[{"node":"Unify Chat History","type":"main","index":0}]]},"Compute Chat History":{"main":[[{"node":"Unify Chat History","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{"When Executed by Another Workflow":[{"json":{"slack_user_id":"U07U3MJ9SQY"}}]},"versionId":"4dcd21bd-7e81-42a3-8f25-4db3af107583","activeVersionId":null,"triggerCount":0,"shared":[{"updatedAt":"2025-11-22T21:44:56.595Z","createdAt":"2025-11-22T21:44:56.595Z","role":"workflow:owner","workflowId":"XFQFb7sUMTyKg2dV","projectId":"8nyfoRCh3nEYWaKJ"}],"activeVersion":null,"tags":[]}