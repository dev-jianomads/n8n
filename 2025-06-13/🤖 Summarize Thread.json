{"createdAt":"2025-05-29T16:23:44.802Z","updatedAt":"2025-05-29T19:46:26.109Z","id":"8zUpaN0bW5TMwiZ0","name":"ðŸ¤– Summarize Thread","active":false,"isArchived":false,"nodes":[{"parameters":{"modelId":{"__rl":true,"value":"gpt-4.1","mode":"list","cachedResultName":"GPT-4.1"},"messages":{"values":[{"content":"=You are an email thread summarizer.\n\nYour job is to create a summary of an email thread. You will receive a JSON structure like this: \n\n[\n    {\n        \"body\": \"Dev JIA has accepted the invitation for Test Z #2 scheduled on Thursday, July 25, 2024, from 11:30 am to 12:30 pm Singapore Standard Time. The meeting will be held via Zoom, and joining details are provided in the email. Test JIA is the organizer, and further guest information can be accessed through the provided Google Calendar link.\",\n        \"date_received\": \"2024-07-24\"\n    },\n    {\n        \"body\": \"Your cloud recording for Test Z #4 from July 25, 2024, at 07:17 PM Singapore time is now available. You can view, share, and access the recording using the provided links and passcode K+qjj9wR.\",\n        \"date_received\": \"2024-07-25\"\n    },\n    {\n        \"body\": \"Your paid Zoom subscription has expired, resulting in the loss of access to Cloud Recordings, which will be deleted in 30 days unless you renew your subscription.\",\n        \"date_received\": \"2024-08-07\"\n    }\n]\n\n## Notes about the input:\n- It is a list of email bodies for each email in the thread.\n- It is order in chronological ascending order.\n- \"body\" contains the body of a particular email.\n- \"date_received\" is the date that email was received.\n\nKeep the summary concise, to the point, and don't leave out any important information.\n\nMake your summary AT MOST 3 sentences long.\n\nOnly return the summary.","role":"system"},{"content":"={{ JSON.stringify($json.thread) }}"}]},"options":{"maxTokens":512,"temperature":0.1}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[340,-140],"id":"567c9c99-e608-4ba4-ad04-ee6c528d5fff","name":"Email Thread Summarizer","retryOnFail":true,"maxTries":5,"waitBetweenTries":3000,"credentials":{"openAiApi":{"id":"JNBPFneOXwzjzSKh","name":"OpenAi account"}}},{"parameters":{"workflowInputs":{"values":[{"name":"thread","type":"array"}]}},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[120,-140],"id":"9ce59759-eaca-49fb-a9ef-df4433c61a6e","name":"When Executed by Another Workflow"},{"parameters":{"assignments":{"assignments":[{"id":"36897261-44d7-4a76-bf3a-6c84176aacce","name":"threadSummary","value":"={{ $json.message.content }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[700,-140],"id":"720e1cda-9d14-4628-9a46-523405bbbb33","name":"Set Response"}],"connections":{"Email Thread Summarizer":{"main":[[{"node":"Set Response","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"Email Thread Summarizer","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","callerPolicy":"workflowsFromSameOwner","errorWorkflow":"63JMaA3ATIsJVc6Y"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"10689d25-77f7-4149-bf23-3ead27243997","triggerCount":0,"tags":[]}