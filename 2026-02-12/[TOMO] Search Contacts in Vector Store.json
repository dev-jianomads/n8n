{"updatedAt":"2026-01-23T20:41:13.000Z","createdAt":"2026-01-05T17:55:24.036Z","id":"Dd0kAGyveBZpzoyoH6ktJ","name":"[TOMO] Search Contacts in Vector Store","active":true,"isArchived":false,"nodes":[{"parameters":{"workflowInputs":{"values":[{"name":"user_id"},{"name":"query"},{"name":"extra_params","type":"object"}]}},"id":"b34a533f-df61-465e-8627-2b9b2934a9b7","typeVersion":1.1,"name":"When Executed by Another Workflow","type":"n8n-nodes-base.executeWorkflowTrigger","position":[-816,96]},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[-304,64],"id":"329402e0-ff34-4dd8-9818-d6375f8162c4","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"JNBPFneOXwzjzSKh","name":"OpenAI account"}}},{"parameters":{"mode":"load","prompt":"={{ $('When Executed by Another Workflow').item.json.query }}","topK":5,"options":{"metadata":{"metadataValues":[{"name":"user_id","value":"={{ $('When Executed by Another Workflow').item.json.user_id }}"},{"name":"source","value":"google"}]}}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[-368,-160],"id":"59300dc3-434e-40e7-9595-12346c8ff1bc","name":"[Google] Contacts","credentials":{"postgres":{"id":"hcrXy03eb7cfXzVe","name":"Supabase TX Pooler"}}},{"parameters":{"mode":"load","prompt":"={{ $('When Executed by Another Workflow').item.json.query }}","topK":5,"options":{"metadata":{"metadataValues":[{"name":"user_id","value":"={{ $('When Executed by Another Workflow').item.json.user_id }}"},{"name":"source","value":"conversation"}]}}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[-368,240],"id":"188ce255-8d48-4c5e-b21f-fc9b82ab0064","name":"[Conversation] Contacts","credentials":{"postgres":{"id":"hcrXy03eb7cfXzVe","name":"Supabase TX Pooler"}}},{"parameters":{"assignments":{"assignments":[{"id":"e599b1de-86bc-475c-a2a7-937e9dcde816","name":"pageContent","value":"={{ $json.document.pageContent }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[208,96],"id":"8f07bc63-dbad-4bd9-98ea-d973d944a186","name":"Simplify Output"},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[-16,96],"id":"a4c530ab-c585-4e05-a23b-dc48fe990a4d","name":"Append"},{"parameters":{"workflowId":{"__rl":true,"value":"t-u8ZwcwhVML6GdeISc_t","mode":"list","cachedResultUrl":"/workflow/t-u8ZwcwhVML6GdeISc_t","cachedResultName":"Edit Service Message"},"workflowInputs":{"mappingMode":"defineBelow","value":{"extra_params":"={{ $json.extra_params }}","message":"={{ $json.extra_params.service === \"slack\" ? \"_Searching contacts... :mag:_\" : \"<i>Searching contacts... üîç</i>\" }}"},"matchingColumns":[],"schema":[{"id":"message","displayName":"message","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"extra_params","displayName":"extra_params","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"object","removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.3,"position":[-592,96],"id":"73ac385e-dcc9-4786-8bd4-3c3314789d1b","name":"Call 'Edit Service Message'","onError":"continueRegularOutput"}],"connections":{"When Executed by Another Workflow":{"main":[[{"node":"Call 'Edit Service Message'","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"[Google] Contacts","type":"ai_embedding","index":0},{"node":"[Conversation] Contacts","type":"ai_embedding","index":0}]]},"[Google] Contacts":{"main":[[{"node":"Append","type":"main","index":0}]]},"[Conversation] Contacts":{"main":[[{"node":"Append","type":"main","index":1}]]},"Append":{"main":[[{"node":"Simplify Output","type":"main","index":0}]]},"Call 'Edit Service Message'":{"main":[[{"node":"[Google] Contacts","type":"main","index":0},{"node":"[Conversation] Contacts","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","availableInMCP":false},"staticData":null,"meta":null,"pinData":{"When Executed by Another Workflow":[{"json":{"user_id":"qZT6blvRgXN0eb2GWKK7gQCBbY2s","query":"Geoff","extra_params":{"service":"slack","params":{"slack_user_id":"U07U3MJ9SQY","channel_id":"1598386790","message_ts":"4387"}}}}]},"versionId":"f9f55e4f-89a8-48b4-b48d-f5a2d776713b","activeVersionId":"e197cdf8-0001-4fc4-b088-48b779039c97","triggerCount":0,"shared":[{"updatedAt":"2026-01-05T17:55:24.036Z","createdAt":"2026-01-05T17:55:24.036Z","role":"workflow:owner","workflowId":"Dd0kAGyveBZpzoyoH6ktJ","projectId":"8nyfoRCh3nEYWaKJ"}],"activeVersion":{"updatedAt":"2026-01-20T21:23:25.728Z","createdAt":"2026-01-20T21:23:21.607Z","versionId":"e197cdf8-0001-4fc4-b088-48b779039c97","workflowId":"Dd0kAGyveBZpzoyoH6ktJ","nodes":[{"parameters":{"workflowInputs":{"values":[{"name":"user_id"},{"name":"query"},{"name":"extra_params","type":"object"}]}},"id":"b34a533f-df61-465e-8627-2b9b2934a9b7","typeVersion":1.1,"name":"When Executed by Another Workflow","type":"n8n-nodes-base.executeWorkflowTrigger","position":[-816,96]},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[-304,64],"id":"329402e0-ff34-4dd8-9818-d6375f8162c4","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"JNBPFneOXwzjzSKh","name":"OpenAI account"}}},{"parameters":{"mode":"load","prompt":"={{ $('When Executed by Another Workflow').item.json.query }}","topK":5,"options":{"metadata":{"metadataValues":[{"name":"user_id","value":"={{ $json.user_id }}"},{"name":"source","value":"google"}]}}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[-368,-160],"id":"59300dc3-434e-40e7-9595-12346c8ff1bc","name":"[Google] Contacts","credentials":{"postgres":{"id":"hcrXy03eb7cfXzVe","name":"Supabase TX Pooler"}}},{"parameters":{"mode":"load","prompt":"={{ $('When Executed by Another Workflow').item.json.query }}","topK":5,"options":{"metadata":{"metadataValues":[{"name":"user_id","value":"={{ $json.user_id }}"},{"name":"source","value":"conversation"}]}}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[-368,240],"id":"188ce255-8d48-4c5e-b21f-fc9b82ab0064","name":"[Conversation] Contacts","credentials":{"postgres":{"id":"hcrXy03eb7cfXzVe","name":"Supabase TX Pooler"}}},{"parameters":{"assignments":{"assignments":[{"id":"e599b1de-86bc-475c-a2a7-937e9dcde816","name":"pageContent","value":"={{ $json.document.pageContent }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[208,96],"id":"8f07bc63-dbad-4bd9-98ea-d973d944a186","name":"Simplify Output"},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[-16,96],"id":"a4c530ab-c585-4e05-a23b-dc48fe990a4d","name":"Append"},{"parameters":{"workflowId":{"__rl":true,"value":"t-u8ZwcwhVML6GdeISc_t","mode":"list","cachedResultUrl":"/workflow/t-u8ZwcwhVML6GdeISc_t","cachedResultName":"Edit Service Message"},"workflowInputs":{"mappingMode":"defineBelow","value":{"extra_params":"={{ $json.extra_params }}","message":"={{ $json.extra_params.service === \"slack\" ? \"_Searching contacts... :mag:_\" : \"<i>Searching contacts... üîç</i>\" }}"},"matchingColumns":[],"schema":[{"id":"message","displayName":"message","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"extra_params","displayName":"extra_params","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"object","removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.3,"position":[-592,96],"id":"73ac385e-dcc9-4786-8bd4-3c3314789d1b","name":"Call 'Edit Service Message'","onError":"continueRegularOutput"}],"connections":{"When Executed by Another Workflow":{"main":[[{"node":"Call 'Edit Service Message'","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"[Google] Contacts","type":"ai_embedding","index":0},{"node":"[Conversation] Contacts","type":"ai_embedding","index":0}]]},"[Google] Contacts":{"main":[[{"node":"Append","type":"main","index":0}]]},"[Conversation] Contacts":{"main":[[{"node":"Append","type":"main","index":1}]]},"Append":{"main":[[{"node":"Simplify Output","type":"main","index":0}]]},"Call 'Edit Service Message'":{"main":[[{"node":"[Google] Contacts","type":"main","index":0},{"node":"[Conversation] Contacts","type":"main","index":0}]]}},"authors":"Dev JIA","name":"Version e197cdf8","description":"","autosaved":false},"tags":[]}