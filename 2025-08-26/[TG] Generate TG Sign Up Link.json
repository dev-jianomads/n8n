{"createdAt":"2025-08-26T22:37:53.300Z","updatedAt":"2025-08-26T22:42:32.391Z","id":"NGtEphYMxdLcbH71","name":"[TG] Generate TG Sign Up Link","active":false,"isArchived":false,"nodes":[{"parameters":{"value":"={{ JSON.stringify($json) }}","dataPropertyName":"telegram_signup_token"},"type":"n8n-nodes-base.crypto","typeVersion":1,"position":[-320,224],"id":"74f7df55-ac5f-4eda-8432-777ddccf917f","name":"Generate Token"},{"parameters":{"assignments":{"assignments":[{"id":"d6d44179-3294-4120-a806-9edeed86be94","name":"telegramSignUpLink","value":"=https://t.me/AskTomoBot?start={{ $json.telegram_signup_token }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-96,224],"id":"9609a3a8-c2fb-4dcf-814a-0a6db889b1f0","name":"Set Sign Up Link"},{"parameters":{"operation":"update","tableId":"users","filters":{"conditions":[{"keyName":"email","condition":"eq","keyValue":"={{ $('Webhook').item.json.body.email }}"}]},"fieldsUi":{"fieldValues":[{"fieldId":"telegram_signup_token","fieldValue":"={{ $('Generate Token').item.json.telegram_signup_token }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[128,224],"id":"12a65bbb-1f57-4751-a26e-335595dbc34c","name":"Update User with TG Token","credentials":{"supabaseApi":{"id":"PwJN4yKDRZqivq2f","name":"Supabase account"}},"disabled":true},{"parameters":{"httpMethod":"POST","path":" tg-sign-up","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-544,224],"id":"81790e2b-2ad9-4e4f-94e8-71ec50cdaf70","name":"Webhook","webhookId":"87f5b5a3-945b-48dd-8bce-c757c2f4fcfd"},{"parameters":{"respondWith":"json","responseBody":"={\n  \"sign_up_url\": \"{{ $('Set Sign Up Link').item.json.telegramSignUpLink }}\"\n}","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.4,"position":[336,224],"id":"c70190b5-0b27-4a2e-8692-f58367cfab30","name":"Respond to Webhook"}],"connections":{"Generate Token":{"main":[[{"node":"Set Sign Up Link","type":"main","index":0}]]},"Set Sign Up Link":{"main":[[{"node":"Update User with TG Token","type":"main","index":0}]]},"Update User with TG Token":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]},"Webhook":{"main":[[{"node":"Generate Token","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{"Webhook":[{"json":{"headers":{"host":"n8n.srv845833.hstgr.cloud","user-agent":"pg_net/0.13.0","content-length":"1063","accept":"*/*","content-type":"application/json","x-forwarded-for":"172.18.0.1","x-forwarded-host":"n8n.srv845833.hstgr.cloud","x-forwarded-port":"443","x-forwarded-proto":"https","x-forwarded-server":"957611e6a776","x-real-ip":"172.18.0.1","accept-encoding":"gzip"},"params":{},"query":{},"body":{"user_id":"LaHchbEMNFfCOePHPReS6OuPa071","email":"jesus@datasmarts.net"},"webhookUrl":"https://n8n.srv845833.hstgr.cloud/webhook/tg-signup","executionMode":"production"}}]},"versionId":"9f168477-23c2-4049-b16b-1fa84bffd3c4","triggerCount":1,"shared":[{"createdAt":"2025-08-26T22:37:53.300Z","updatedAt":"2025-08-26T22:37:53.300Z","role":"workflow:owner","workflowId":"NGtEphYMxdLcbH71","projectId":"8nyfoRCh3nEYWaKJ"}],"tags":[]}