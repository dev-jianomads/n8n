{"createdAt":"2025-07-31T22:35:36.546Z","updatedAt":"2025-08-25T21:57:04.279Z","id":"6QyO6cwvo04GtJfR","name":"[TG] List Events","active":false,"isArchived":false,"nodes":[{"parameters":{"workflowInputs":{"values":[{"name":"userId"},{"name":"from"},{"name":"to"},{"name":"timeZone"},{"name":"query"}]}},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-240,80],"id":"e46458f5-f5b8-4839-a8be-7dceb0b8e039","name":"When Executed by Another Workflow"},{"parameters":{"workflowId":{"__rl":true,"value":"OH9PUovRKlvZel5e","mode":"list","cachedResultName":"[TG] Get Token for Telegram Integration"},"workflowInputs":{"mappingMode":"defineBelow","value":{"user_id":"={{ $json.userId }}"},"matchingColumns":["user_id"],"schema":[{"id":"user_id","displayName":"user_id","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"}],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.2,"position":[-16,80],"id":"998331eb-ddef-4fd9-ba4c-59fbb5f8a89b","name":"Get Token"},{"parameters":{"assignments":{"assignments":[{"id":"9f092131-4eb5-4f4d-8bb5-ced3bd034685","name":"message","value":"There was an error. Try later.","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[416,176],"id":"8ed46314-d484-439d-bfd3-20f6bc37e312","name":"Set Error Message"},{"parameters":{"content":"# TODO\n\nInput time zone.\nReturn times in the input time zone."},"type":"n8n-nodes-base.stickyNote","position":[16,-112],"typeVersion":1,"id":"2f3ac0dd-27bb-44f4-92d0-19655860d826","name":"Sticky Note"},{"parameters":{"url":"https://www.googleapis.com/calendar/v3/calendars/primary/events","sendQuery":true,"queryParameters":{"parameters":[{"name":"q","value":"={{ $('When Executed by Another Workflow').first().json.query }}"},{"name":"timeMin","value":"={{ $('When Executed by Another Workflow').item.json.from }}"},{"name":"timeMax","value":"={{ $('When Executed by Another Workflow').item.json.to }}"},{"name":"timeZone","value":"={{ $('When Executed by Another Workflow').first().json.timeZone }}"},{"name":"singleEvents","value":"true"},{"name":"orderBy","value":"startTime"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $('Get Token').first().json.accessToken }}"},{"name":"Content-Type","value":"application/json"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[208,80],"id":"0d99c7d5-65ea-404b-8828-ac7e7882c25a","name":"List Events","retryOnFail":true,"alwaysOutputData":false,"onError":"continueErrorOutput"},{"parameters":{"fieldToSplitOut":"items","options":{}},"type":"n8n-nodes-base.splitOut","typeVersion":1,"position":[416,-16],"id":"5558b6a3-cc66-4bac-896c-181803c1ccde","name":"Split Out"},{"parameters":{"assignments":{"assignments":[{"id":"9ef9218c-e8ae-453d-b020-762e44794aa9","name":"status","value":"={{ $json.status }}","type":"string"},{"id":"9f5f69b2-0a57-4592-8731-02a08e6b0189","name":"creator","value":"={{ $json.creator }}","type":"object"},{"id":"bb6e0edb-1191-460a-b053-e827e6ad6792","name":"start","value":"={{ $json.start }}","type":"object"},{"id":"9bc6be0d-682b-426e-9868-be99e189bed0","name":"end","value":"={{ $json.end }}","type":"object"},{"id":"5bac55ef-1377-492d-871a-304f84b4157d","name":"summary","value":"={{ $json.summary }}","type":"string"},{"id":"82976509-447e-4062-bd9d-d1377a1ef793","name":"attendees","value":"={{ $json.attendees.map(a => a.email) }}","type":"array"},{"id":"fb9498ec-e991-4050-9fdc-e0a88cd4276d","name":"id","value":"={{ $json.id }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[624,-16],"id":"22908862-8e1b-45ad-9576-fe594af68fa7","name":"Simplify Event"},{"parameters":{"aggregate":"aggregateAllItemData","destinationFieldName":"events","options":{}},"type":"n8n-nodes-base.aggregate","typeVersion":1,"position":[832,-16],"id":"803b675d-6afe-4054-af29-f82f497d3a50","name":"Consolidate Events"}],"connections":{"When Executed by Another Workflow":{"main":[[{"node":"Get Token","type":"main","index":0}]]},"Get Token":{"main":[[{"node":"List Events","type":"main","index":0}]]},"List Events":{"main":[[{"node":"Split Out","type":"main","index":0}],[{"node":"Set Error Message","type":"main","index":0}]]},"Split Out":{"main":[[{"node":"Simplify Event","type":"main","index":0}]]},"Simplify Event":{"main":[[{"node":"Consolidate Events","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{"When Executed by Another Workflow":[{"json":{"userId":"1IUzo3Dc3BdIwXUaaxxS4XlmKgn1","query":"Ken","from":"2025-07-24T00:00:00-10:00","to":"2025-07-24T23:59:59-10:00","timeZone":"Pacific/Honolulu"}}],"List Events":[{"json":{"kind":"calendar#events","etag":"\"p33nutgfrofg8s0o\"","summary":"geoffrey@jia-nomads.com","description":"","updated":"2025-07-28T21:48:10.507Z","timeZone":"America/Los_Angeles","accessRole":"owner","defaultReminders":[{"method":"popup","minutes":10}],"nextSyncToken":"CO_uwfvD4I4DEO_uwfvD4I4DGAUgpY7q9wIopY7q9wI=","items":[{"kind":"calendar#event","etag":"\"3506686233776318\"","id":"ed853j42rr0m6v6kdqqpituu6o","status":"confirmed","htmlLink":"https://www.google.com/calendar/event?eid=ZWQ4NTNqNDJycjBtNnY2a2RxcXBpdHV1Nm9fMjAyNTA1MjZUMjMwMDAwWiBnZW9mZnJleUBqaWEtbm9tYWRzLmNvbQ&ctz=Pacific/Honolulu","created":"2025-05-22T23:14:34.000Z","updated":"2025-07-24T07:45:16.888Z","summary":"Slack Huddle - Ken / Jesus / Geoff","creator":{"email":"ken@jia-nomads.com"},"organizer":{"email":"ken@jia-nomads.com"},"start":{"dateTime":"2025-05-26T13:00:00-10:00","timeZone":"Australia/Sydney"},"end":{"dateTime":"2025-05-26T13:30:00-10:00","timeZone":"Australia/Sydney"},"recurrence":["RRULE:FREQ=WEEKLY;UNTIL=20250528T135959Z;BYDAY=TU,WE,TH,FR"],"iCalUID":"ed853j42rr0m6v6kdqqpituu6o@google.com","sequence":0,"attendees":[{"email":"jesus.martinez@toptal.com","responseStatus":"needsAction"},{"email":"geoffrey@jia-nomads.com","self":true,"responseStatus":"needsAction"},{"email":"ken@jia-nomads.com","organizer":true,"responseStatus":"accepted"}],"hangoutLink":"https://meet.google.com/due-zuzu-frt","conferenceData":{"createRequest":{"requestId":"fvnshgnuhnshs3ljvtafni9mf0","conferenceSolutionKey":{"type":"hangoutsMeet"},"status":{"statusCode":"success"}},"entryPoints":[{"entryPointType":"video","uri":"https://meet.google.com/due-zuzu-frt","label":"meet.google.com/due-zuzu-frt"},{"entryPointType":"more","uri":"https://tel.meet/due-zuzu-frt?pin=7087280047316","pin":"7087280047316"},{"regionCode":"AU","entryPointType":"phone","uri":"tel:+61-2-9051-6206","label":"+61 2 9051 6206","pin":"490442595"}],"conferenceSolution":{"key":{"type":"hangoutsMeet"},"name":"Google Meet","iconUri":"https://fonts.gstatic.com/s/i/productlogos/meet_2020q4/v6/web-512dp/logo_meet_2020q4_color_2x_web_512dp.png"},"conferenceId":"due-zuzu-frt"},"reminders":{"useDefault":true},"eventType":"default"},{"kind":"calendar#event","etag":"\"3506686233776318\"","id":"ed853j42rr0m6v6kdqqpituu6o_20250724T230000Z","status":"confirmed","htmlLink":"https://www.google.com/calendar/event?eid=ZWQ4NTNqNDJycjBtNnY2a2RxcXBpdHV1Nm9fMjAyNTA3MjRUMjMwMDAwWiBnZW9mZnJleUBqaWEtbm9tYWRzLmNvbQ&ctz=Pacific/Honolulu","created":"2025-05-22T23:14:34.000Z","updated":"2025-07-24T07:45:16.888Z","summary":"Slack Huddle - Ken / Jesus / Geoff","creator":{"email":"ken@jia-nomads.com"},"organizer":{"email":"ken@jia-nomads.com"},"start":{"dateTime":"2025-07-24T13:00:00-10:00","timeZone":"Australia/Sydney"},"end":{"dateTime":"2025-07-24T13:30:00-10:00","timeZone":"Australia/Sydney"},"recurringEventId":"ed853j42rr0m6v6kdqqpituu6o_R20250528T230000","originalStartTime":{"dateTime":"2025-07-24T13:00:00-10:00","timeZone":"Australia/Sydney"},"iCalUID":"ed853j42rr0m6v6kdqqpituu6o_R20250528T230000@google.com","sequence":0,"attendees":[{"email":"jesus.martinez@toptal.com","responseStatus":"accepted"},{"email":"geoffrey@jia-nomads.com","self":true,"responseStatus":"accepted"},{"email":"ken@jia-nomads.com","organizer":true,"responseStatus":"accepted"}],"hangoutLink":"https://meet.google.com/due-zuzu-frt","conferenceData":{"createRequest":{"requestId":"fvnshgnuhnshs3ljvtafni9mf0","conferenceSolutionKey":{"type":"hangoutsMeet"},"status":{"statusCode":"success"}},"entryPoints":[{"entryPointType":"video","uri":"https://meet.google.com/due-zuzu-frt","label":"meet.google.com/due-zuzu-frt"},{"entryPointType":"more","uri":"https://tel.meet/due-zuzu-frt?pin=7087280047316","pin":"7087280047316"},{"regionCode":"AU","entryPointType":"phone","uri":"tel:+61-2-9051-6206","label":"+61 2 9051 6206","pin":"490442595"}],"conferenceSolution":{"key":{"type":"hangoutsMeet"},"name":"Google Meet","iconUri":"https://fonts.gstatic.com/s/i/productlogos/meet_2020q4/v6/web-512dp/logo_meet_2020q4_color_2x_web_512dp.png"},"conferenceId":"due-zuzu-frt"},"reminders":{"useDefault":true},"eventType":"default"},{"kind":"calendar#event","etag":"\"3506686233776318\"","id":"ed853j42rr0m6v6kdqqpituu6o_R20250528T230000","status":"confirmed","htmlLink":"https://www.google.com/calendar/event?eid=ZWQ4NTNqNDJycjBtNnY2a2RxcXBpdHV1Nm9fMjAyNTA1MjhUMjMwMDAwWiBnZW9mZnJleUBqaWEtbm9tYWRzLmNvbQ&ctz=Pacific/Honolulu","created":"2025-05-22T23:14:34.000Z","updated":"2025-07-24T07:45:16.888Z","summary":"Slack Huddle - Ken / Jesus / Geoff","creator":{"email":"ken@jia-nomads.com"},"organizer":{"email":"ken@jia-nomads.com"},"start":{"dateTime":"2025-05-28T13:00:00-10:00","timeZone":"Australia/Sydney"},"end":{"dateTime":"2025-05-28T13:30:00-10:00","timeZone":"Australia/Sydney"},"recurrence":["RRULE:FREQ=WEEKLY;UNTIL=20250725T135959Z;BYDAY=TU,WE,TH,FR"],"iCalUID":"ed853j42rr0m6v6kdqqpituu6o_R20250528T230000@google.com","sequence":0,"attendees":[{"email":"jesus.martinez@toptal.com","responseStatus":"accepted"},{"email":"geoffrey@jia-nomads.com","self":true,"responseStatus":"needsAction"},{"email":"ken@jia-nomads.com","organizer":true,"responseStatus":"accepted"}],"hangoutLink":"https://meet.google.com/due-zuzu-frt","conferenceData":{"createRequest":{"requestId":"fvnshgnuhnshs3ljvtafni9mf0","conferenceSolutionKey":{"type":"hangoutsMeet"},"status":{"statusCode":"success"}},"entryPoints":[{"entryPointType":"video","uri":"https://meet.google.com/due-zuzu-frt","label":"meet.google.com/due-zuzu-frt"},{"entryPointType":"more","uri":"https://tel.meet/due-zuzu-frt?pin=7087280047316","pin":"7087280047316"},{"regionCode":"AU","entryPointType":"phone","uri":"tel:+61-2-9051-6206","label":"+61 2 9051 6206","pin":"490442595"}],"conferenceSolution":{"key":{"type":"hangoutsMeet"},"name":"Google Meet","iconUri":"https://fonts.gstatic.com/s/i/productlogos/meet_2020q4/v6/web-512dp/logo_meet_2020q4_color_2x_web_512dp.png"},"conferenceId":"due-zuzu-frt"},"reminders":{"useDefault":true},"eventType":"default"},{"kind":"calendar#event","etag":"\"3506686238202862\"","id":"offltlgjhv9o4v358erelhsc14","status":"confirmed","htmlLink":"https://www.google.com/calendar/event?eid=b2ZmbHRsZ2podjlvNHYzNThlcmVsaHNjMTQgZ2VvZmZyZXlAamlhLW5vbWFkcy5jb20&ctz=Pacific/Honolulu","created":"2025-07-24T07:42:38.000Z","updated":"2025-07-24T07:47:58.711Z","summary":"Call with Ken Wong (ken@jia-nomads.com)","creator":{"email":"geoffrey@jia-nomads.com","self":true},"organizer":{"email":"geoffrey@jia-nomads.com","self":true},"start":{"dateTime":"2025-07-24T13:00:00-10:00","timeZone":"Asia/Tokyo"},"end":{"dateTime":"2025-07-24T14:00:00-10:00","timeZone":"Asia/Tokyo"},"iCalUID":"offltlgjhv9o4v358erelhsc14@google.com","sequence":0,"attendees":[{"email":"geoffrey@jia-nomads.com","organizer":true,"self":true,"responseStatus":"accepted"},{"email":"ken@jia-nomads.com","responseStatus":"accepted"}],"hangoutLink":"https://meet.google.com/nti-aiou-xxf","conferenceData":{"createRequest":{"requestId":"n8n-meet-req-1753342958784","conferenceSolutionKey":{"type":"hangoutsMeet"},"status":{"statusCode":"success"}},"entryPoints":[{"entryPointType":"video","uri":"https://meet.google.com/nti-aiou-xxf","label":"meet.google.com/nti-aiou-xxf"},{"entryPointType":"more","uri":"https://tel.meet/nti-aiou-xxf?pin=3638024446045","pin":"3638024446045"},{"regionCode":"HK","entryPointType":"phone","uri":"tel:+852-3002-2301","label":"+852 3002 2301","pin":"3638024446045"}],"conferenceSolution":{"key":{"type":"hangoutsMeet"},"name":"Google Meet","iconUri":"https://fonts.gstatic.com/s/i/productlogos/meet_2020q4/v6/web-512dp/logo_meet_2020q4_color_2x_web_512dp.png"},"conferenceId":"nti-aiou-xxf"},"reminders":{"useDefault":false,"overrides":[{"method":"popup","minutes":10},{"method":"email","minutes":1440}]},"eventType":"default"}]}}]},"versionId":"bdb67205-1bb9-4f18-aab1-f27b992d349b","triggerCount":0,"shared":[{"createdAt":"2025-07-31T22:35:36.546Z","updatedAt":"2025-07-31T22:35:36.546Z","role":"workflow:owner","workflowId":"6QyO6cwvo04GtJfR","projectId":"8nyfoRCh3nEYWaKJ"}],"tags":[]}