{"createdAt":"2025-05-29T16:22:15.817Z","updatedAt":"2025-07-01T18:46:44.164Z","id":"8QMz7slg4GzUPTjc","name":"ðŸ¤– Extract Name","active":false,"isArchived":false,"nodes":[{"parameters":{"workflowInputs":{"values":[{"name":"body"}]}},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-340,220],"id":"4d522c37-619b-4589-b53f-a6daee19e2e5","name":"When Executed by Another Workflow"},{"parameters":{"assignments":{"assignments":[{"id":"112fb06d-c972-4d62-bda0-f5bcfd4e4283","name":"senderName","value":"={{ $json.output.name }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[940,220],"id":"a5f0eb20-f46f-4c13-afb6-173beb53b28f","name":"Set Response"},{"parameters":{"assignments":{"assignments":[{"id":"098d9f2e-e217-4398-bde9-6db676a1e316","name":"system","value":"=Analyze the input email address, and try to extract the full name of the owner of the account. \n\nIf you can't, return NONE. \n            \nYou should only return the name or NONE, no other comments or remarks are allowed.\n          \n## Examples:\nINPUT: tom@jia-nomads.com\nOUTPUT: Tom\n            \nINPUT: no-reply@gmail.com\nOUTPUT: NONE\n            \nINPUT: asdf11223@outlook.com\nOUTPUT: NONE\n            \nINPUT: john.a.doe@render.com\nOUTPUT: John A. Doe","type":"string"},{"id":"bf63ab0e-8438-4c58-b68c-b84b862a6812","name":"user","value":"={{ $json.body }}","type":"string"},{"id":"bfb36bc6-024d-4caf-89cd-350a12747cb0","name":"temperature","value":0,"type":"number"},{"id":"ec433b14-2ef1-4f54-9ab3-9bc93abd767a","name":"maxTokens","value":64,"type":"number"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-120,220],"id":"e1b4fbd3-a1c7-4bd5-94fd-93a57c237231","name":"Set Prompts & Params"},{"parameters":{"jsonSchemaExample":"{\"name\": \"John\"}","autoFix":true},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[220,442.5],"id":"ea5126a0-c904-4a72-a029-b4dfc74c9747","name":"Structured Output Parser"},{"parameters":{"promptType":"define","text":"={{ $json.user }}","hasOutputParser":true,"options":{"systemMessage":"={{ $json.system }}"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[120,220],"id":"bea594b9-4457-44c4-ab97-6c2ff6b739c2","name":"Name Extractor","retryOnFail":true,"maxTries":5,"onError":"continueErrorOutput"},{"parameters":{"promptType":"define","text":"={{ $json.user }}","hasOutputParser":true,"options":{"systemMessage":"={{ $json.system }}"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[580,295],"id":"7f5f4e66-d21a-4a0c-98f8-6c14dc5af987","name":"Name Extractor (Fallback)","retryOnFail":true,"maxTries":5},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1-mini","mode":"list","cachedResultName":"gpt-4.1-mini"},"options":{"maxTokens":"={{ $json.maxTokens }}","temperature":"={{ $json.temperature }}"}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[300,640],"id":"4be6e51f-8459-4711-a3cc-1de294135843","name":"4.1 Mini","credentials":{"openAiApi":{"id":"JNBPFneOXwzjzSKh","name":"OpenAi account"}}},{"parameters":{"options":{"maxTokens":"={{ $json.maxTokens }}","temperature":"={{ $json.temperature }}"}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenRouter","typeVersion":1,"position":[100,440],"id":"0ad656df-1683-470b-adb8-96b2350b27f1","name":"GPT 4.1 Mini","credentials":{"openRouterApi":{"id":"SeBKTiKFu0nP1GsL","name":"OpenRouter account"}}}],"connections":{"When Executed by Another Workflow":{"main":[[{"node":"Set Prompts & Params","type":"main","index":0}]]},"Set Prompts & Params":{"main":[[{"node":"Name Extractor","type":"main","index":0}]]},"Set Response":{"main":[[]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Name Extractor","type":"ai_outputParser","index":0},{"node":"Name Extractor (Fallback)","type":"ai_outputParser","index":0}]]},"Name Extractor":{"main":[[{"node":"Set Response","type":"main","index":0}],[{"node":"Name Extractor (Fallback)","type":"main","index":0}]]},"4.1 Mini":{"ai_languageModel":[[{"node":"Name Extractor (Fallback)","type":"ai_languageModel","index":0},{"node":"Structured Output Parser","type":"ai_languageModel","index":0}]]},"Name Extractor (Fallback)":{"main":[[{"node":"Set Response","type":"main","index":0}]]},"GPT 4.1 Mini":{"ai_languageModel":[[{"node":"Name Extractor","type":"ai_languageModel","index":0}]]}},"settings":{"executionOrder":"v1","callerPolicy":"workflowsFromSameOwner","errorWorkflow":"63JMaA3ATIsJVc6Y"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{"When Executed by Another Workflow":[{"json":{"body":"johnnybones@gmail.com"}}]},"versionId":"403cf69c-e2a9-4252-a3f3-85ed9586ab8d","triggerCount":0,"shared":[{"createdAt":"2025-05-29T16:22:15.817Z","updatedAt":"2025-05-29T16:22:15.817Z","role":"workflow:owner","workflowId":"8QMz7slg4GzUPTjc","projectId":"8nyfoRCh3nEYWaKJ"}],"tags":[]}