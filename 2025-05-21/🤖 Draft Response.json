{"createdAt":"2025-05-06T19:53:10.272Z","updatedAt":"2025-05-06T19:58:21.000Z","id":"tTPLJBStstyIerUW","name":"ðŸ¤– Draft Response","active":false,"nodes":[{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.type.toLowerCase() }}","rightValue":"app","operator":{"type":"string","operation":"equals"},"id":"e8ea45bf-d3d7-4cc1-9b1f-406054e5291d"}],"combinator":"and"},"renameOutput":true,"outputKey":"APP"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"6b8b902a-4b65-4834-902c-fcc37d20cc5d","leftValue":"={{ $json.type.toLowerCase() }}","rightValue":"event","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"EVENT"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"cddb39f8-e65a-440d-a66a-d9c36ac626b6","leftValue":"={{ $json.type.toLowerCase() }}","rightValue":"reply","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"REPLY"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"b149d1e4-6f71-400f-856b-37c13a428a6d","leftValue":"={{ $json.type.toLowerCase() }}","rightValue":"review","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"REVIEW"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[220,-101],"id":"cf781f28-9593-442c-9260-63eefea57752","name":"Task Type?"},{"parameters":{"assignments":{"assignments":[{"id":"1cf8bd27-8a25-48d5-ab4f-dac2466a3382","name":"prompt","value":"## Role\nAct as a Personal Assistant, creating concise, 1-sentence instructions to the original recipient.\n\n## Task\nWrite a short instruction to the user to complete work directly in a specific app (e.g., closing a JIRA ticket, joining a Zoom call, logging into Asana, reviewing Figma designs, or debugging a Make.com scenario). Use the **email body** and **task description** as your main inputs. Use the **thread summary** only for additional contextâ€”not as the primary source.\n\n## Guidelines\n- **Length:** Limit replies to one sentence.\n- **Tone:** Friendly and casual, like you're talking to a friend of a friendâ€”approachable but still helpful.\n- **Content:**\n  - Directly mention the app and the required action.\n  - NEVER make up or infer app names, links, times, or task specifics that arenâ€™t explicitly mentioned.\n  - If thereâ€™s not enough detail about what to do or which app is involved, ask the user to check the original email.\n- **Clarity:** Be clear and actionable.\n- **Style:** Replies should feel like they were written by the original recipient in a quick but thoughtful moment.\n\n## Examples of Responses\n1. \"Hey, could you take a quick peek at the designs in Figma? Let me know what you think!\"\n2. \"Mind checking out what's going wrong with that scenario in Make.com? Something's acting up there.\"\n3. \"Can you hop into Asana real quick and update that task if anythingâ€™s changed?\"\n4. \"Once I've checked it over, go ahead and close the ticket in JIRA.\"\n5. \"Jump on the Zoom call when you canâ€”we'll chat about it there!\"\n6. \"Not sure which app this refers toâ€”can you check the original email for details?\"\n\n## Goal\nDeliver clear, helpful instructions that:\n- Point the user directly to the correct app and action\n- Are based on the **task description** and **email body**\n- Use the **thread summary** only as extra context\n- Avoid guessing or hallucinating details","type":"string"},{"id":"62abdafe-9e25-4b58-9986-a445b8919d15","name":"maxTokens","value":64,"type":"number"},{"id":"1e60a051-e33f-4aa5-ac2b-c68a261a8249","name":"temperature","value":0.5,"type":"number"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[440,-380],"id":"08fb54ad-7075-4ba1-b696-4cc3a12d94f3","name":"Set App Draft Params"},{"parameters":{"assignments":{"assignments":[{"id":"8c243bec-4b1e-4d87-93ba-a7cce210987e","name":"prompt","value":"## Role\nAct as a Draft Reply Writer, creating concise, 1- or 2-sentence email replies as if you were the original recipient.\n\n## Task\nWrite short, relevant replies that confirm setting up an event in the calendar. These responses should always offer a definitive action, typically a variation of:\n\"I've gone ahead and sent you a calendar invite. Hope it works, if not please provide some alternative time slots.\"\n\n## Guidelines\n- **Length:** Limit replies to 1 or 2 sentences.\n- **Tone:** Friendly and casual, like you're talking to a friend of a friendâ€”warm but still professional.\n- **Content:**\n  - Start with \"Hi (sender),\"\n  - Base the response on the **email body** and **task description**.\n  - Use the **thread summary** only as supporting contextâ€”not the main source.\n  - Confirm that an invite has been sent, and provide an opening to adjust the time if needed.\n  - Avoid explicitly accepting or rejecting the proposed dateâ€”stay neutral and flexible.\n  - NEVER invent or infer details like specific dates, times, links, or names unless explicitly provided.\n  - End with \"Regards,\"\n- **Clarity:** Be direct and approachable. Let the recipient know the next step is covered, but you're open to adjustments.\n- **Style:** Keep it friendly and natural, as if the reply came from the original recipient.\n\n## Examples\n1. \"Hi Maria, just sent over the calendar inviteâ€”hope the time works! If not, feel free to suggest alternatives. Regards,\"\n2. \"Hi Josh, Iâ€™ve gone ahead and added it to the calendarâ€”let me know if we need to shift it. Regards,\"\n3. \"Hi Claire, calendar invite sentâ€”happy to reschedule if needed. Regards,\"\n\n## Goal\nDeliver clear, human-sounding replies that:\n- Confirm an event setup without making assumptions\n- Are based mainly on the **email body** and **task description**\n- Use the **thread summary** only for additional context\n- Stay flexible and avoid hallucinating any unknown information","type":"string"},{"id":"5d5e8328-ec99-4585-a7e1-311ca669b078","name":"maxTokens","value":64,"type":"number"},{"id":"7ff537a6-c23b-4cc0-a7fc-574584fb0d92","name":"temperature","value":0.6,"type":"number"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[440,-180],"id":"101f9674-294a-4e15-a0a7-f0b4d899ae71","name":"Set Event Draft Params"},{"parameters":{"assignments":{"assignments":[{"id":"b6dc286d-502d-46e2-b779-f204379b626f","name":"prompt","value":"## Role\nAct as a Draft Reply Writer, creating concise email replies FROM the perspective of the user (who received the original email) TO the sender of that email.\n\n## Task\nWrite a short, relevant reply that the user can send back to the original email sender. Base your reply on the task description and email body. Use the thread summary only as supporting contextâ€”not as the primary source of information.\n\n## Guidelines\n- **Length:** Limit replies to one sentence.\n- **Perspective:** Always write as if you ARE the user (recipient) writing BACK TO the sender.\n- **Tone:** Friendly and casual, like you're talking to a friend of a friendâ€”approachable but still respectful.\n- **Content:**\n  - Begin with \"Hi (sender's name),\" ONLY when the sender is an actual person\n  - For automated systems, notifications, or apps, skip the greeting and start directly with your response\n  - Address the query or task directly based on the **email body** and **task description**\n  - Use the **thread summary** only for background context, not to generate or assume task details\n  - NEVER make up or infer details like times, dates, names, links, or account info unless explicitly stated\n  - If the email lacks enough detail to reply properly, ask for clarification in a friendly way\n  - Avoid personal opinions, unnecessary acknowledgments, or off-topic remarks\n  - End with \"Regards,\" for person-to-person emails; for automated systems, a simple response is sufficient\n- **Clarity:** Be direct, warm, and clear. Focus on relevance and helpfulness.\n- **Style:** Replies should feel natural, like something the user would write themselves.\n- **IMPORTANT:** Never address the user (recipient) in your draft. Your draft should only address the original sender, as it's meant to be sent back to them.\n\n## Person-to-Person Examples\n1. \"Hi John, happy to take a lookâ€”can you clarify which doc you meant? Regards,\"\n2. \"Hi Sarah, I've updated the file as requested. Regards,\"\n3. \"Hi team, I'll follow up on this today. Regards,\"\n4. \"Hi James, thanksâ€”I'll check and get back to you shortly. Regards,\"\n5. \"Hi Alex, could you confirm which dates you're referring to? Regards,\"\n\n## Automated System/App Examples\n1. \"I confirm I'll be attending the meeting on October 15th at 2pm.\"\n2. \"Please cancel my subscription effective immediately.\"\n3. \"Yes, this was an authorized purchase.\"\n4. \"I'd like to reschedule my appointment to next week if possible.\"\n5. \"The issue has been resolved, please close this support ticket.\"\n\n## Complex Person-to-Person Examples\n\n**Example 1 - Balancing multiple requests in a project context:**\nTask: Respond to project update request and timeline question\nEmail Body: \"Michael here. How's that market analysis coming along? The team is wondering if we'll have it for Friday's meeting. Also, did you get my notes about the client's concerns regarding the Q3 projections?\"\n\nResponse: \"Hi Michael, I'm on track to deliver the market analysis by Thursday afternoon and yes, I've incorporated your notes about the client's Q3 projection concerns into the report. Regards,\"\n\n**Example 2 - Technical clarification with partial information:**\nTask: Reply about API integration issues\nEmail Body: \"We're seeing 503 errors when connecting to your endpoint. Our logs show timeout issues starting yesterday around 3PM. Any idea what's happening on your end? -Dave\"\n\nResponse: \"Hi Dave, I'll investigate the 503 errors immediately with our backend team and get back to you with findings by end of day. Regards,\"\n\n**Example 3 - Complex Automated System Response:**\nTask: Respond to automated reservation system\nEmail Body: \"Your table reservation #45892 at Bistro Bella for 4 people on Saturday, October 8th at 7:30 PM is pending confirmation. Reply 'CONFIRM' to secure your reservation or 'MODIFY' to change details.\"\n\nResponse: \"CONFIRM\"\n\n**Example 4 - Feedback to App Notification:**\nTask: Respond to app feedback request\nEmail Body: \"Thank you for using TaskMaster Pro! How would you rate your experience with our new calendar feature? Reply with a number from 1-5, with 5 being the highest. Your feedback helps us improve.\"\n\nResponse: \"4\"\n\n** Example 5 - Account or Invoice Number Request:** \nTask: Provide account or invoice number\nEmail Body: \"Dear Mr.Chen, Thank you for contacting US Post-Sale Services. To better assist you, we require additional information concerning the sale. Could you please provide your account and sale number? If you do not have this information, the invoice number will suffice. Please let us know if we can be of any further assistance at this time. Yours sincerely, â€‹Sam Sotheby's US Post-Sale Services Help Center: help.sothebys.com On Wed, 19 Mar at 9:13 AM , Sam Hines <sam.hines@sothebys.com> wrote: Thanks, Geoff. I will check with colleagues in NY and confirm. Best wishes, Sam On Tue, 18 Mar at 6:33 PM , US Post Sale Services <uspostsaleservices@sothebys.com> wrote: Dear Mr.Chen, Thank you for contacting US Post-Sale Services. To better assist you, we require additional information concerning the sale. Could you please provide your account and sale number? If you do not have this information, the invoice number will suffice. Please let us know if we can be of any further assistance at this time. Yours sincerely, LeÃ³n Mateo Escovar Sotheby's US Post-Sale Services Help Center: help.sothebys.com On Tue, 18 Mar at 2:44 AM , Geoffrey Chen <geoffrey@elevation-x.co> wrote: Hi Sam, Hope allâ€™s well. Could we make sure the watch is delivered to my HK address by Monday 24 March? I am returning to HK for 2 days and would be great to pick it up then. Sorry to bother you on this but have not heard back on shipping and estimated delivery time. Perhaps I missed the email. Kind regards and thank you, Geoff On 13 Mar 2025, at 1:17 PM, Hines, Sam <Sam.Hines@sothebys.com> wrote: ï»¿ Thanks for the payment, Goeff. Please let me know if there is anything else that you need. Best wishes, Sam ********************************************************************** This email and any files transmitted with it are confidential and intended only for the stated addressee(s). The information contained in this email does not provide and should not be relied upon as tax, legal or financial advice. You should consult your own tax, legal or financial advisors for advice of this nature. Access to this email and any files transmitted with it by any person other than its intended recipient(s) is unauthorised. Unauthorised use, disclosure or copying is strictly prohibited. If received in error, please notify the postmaster at postmaster@sothebys.com and delete this email (and any files transmitted with it) from your system immediately. www.sothebys.com ********************************************************************** 1418116:1030223\"\n\nResponse: \"I'll get back to you about this soon.\"\n\n\n## Goal\nDeliver helpful, friendly, first-person replies that:\n- Are written FROM the user's perspective (the person who received the original email)\n- Are directed TO the original sender (not to the user)\n- Skip greetings when responding to automated systems or apps\n- Are based primarily on the **task description** and **email body**\n- ONLY RETURN THE DRAFTER REPLY, NO OTHER COMMENTARY OR REMARKS OR ACKNOWLEDGEMENTS ARE NEEDED NOR TOLERATED.\n- Use the **thread summary** only for light context\n- UNDER NO CIRCUMSTANCE HALLUCINATE INFORMATION, SUCH AS ACCOUNT NUMBERS, TIMES, DATES, LINKS, ADDRESSES, OR SIMILAR.\n- Feel like they were written by a thoughtful, competent peer\n\n** IMPORTANT **: AGAIN: NO CIRCUMSTANCE HALLUCINATE INFORMATION, SUCH AS ACCOUNT NUMBERS, TIMES, DATES, LINKS, \nADDRESSES, OR SIMILAR. If you don't know the information, simply say something like \"I'll get back to you soon about this.\"","type":"string"},{"id":"2a0dad59-02ea-46a0-afe1-0efd8999e5ca","name":"maxTokens","value":64,"type":"number"},{"id":"83505579-039d-42b5-bdff-d9403fba95e0","name":"temperature","value":0.6,"type":"number"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[440,20],"id":"17a12a3d-b40a-40c9-bdd1-3759c3f916d3","name":"Set Reply Draft Params"},{"parameters":{"assignments":{"assignments":[{"id":"9c6cf0f4-689d-461d-b8e7-cd6bab5308c8","name":"prompt","value":"## Role\nAct as a Personal Assistant, creating concise, 1-sentence reminders for the original recipient of the email.\n\n## Task\nWrite a short reminder when the recipient needs to review something (e.g., a document, task, issue, or feedback).\n\n## Guidelines\n- **Length:** One sentence only.\n- **Tone:** Friendly and approachable, like you're writing to a friend of a friend. Still respectful, but warm.\n- **Content:**\n  - NEVER invent or infer specific details like account numbers, times, dates, links, or names that are not explicitly mentioned.\n  - Focus on the **task description** and **email body** to create the reminder.\n  - Use the **thread summary** only as secondary context â€” never as the main source of information.\n  - If the content to review is vague or unclear, reference the original email (e.g., \"Please refer to the original email for details\").\n  - Acknowledge importance and prompt the user to review without assuming extra context.\n- **Clarity:** Keep it simple, and avoid assumptions about what needs to be done.\n- **Style:** Make it feel like the reminder could have been written by the user themselves.\n\n## Examples of Responses\n1. \"Mind taking a quick look at this when you get a sec?\"\n2. \"Just a heads-upâ€”worth reviewing this soon.\"\n3. \"Give this a quick read and let me know what you think.\"\n4. \"Flagging this so you can take a look.\"\n5. \"Take a look and circle back if anything stands out.\"\n\n## Goal\nDeliver a natural, concise reminder that:\n- Prompts review of the relevant content\n- Avoids made-up specifics\n- Prioritizes task description and email body over thread context\n- Feels helpful, human, and friendly","type":"string"},{"id":"13bbcfbb-cd87-42b5-a76c-9785c8f71050","name":"maxTokens","value":64,"type":"number"},{"id":"e378ad88-127f-4148-9aba-1efd2be82692","name":"temperature","value":0.7,"type":"number"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[440,220],"id":"7af6d026-bf52-4cfb-90c2-f029bd01a0c5","name":"Set Review Draft Params"},{"parameters":{"modelId":{"__rl":true,"value":"gpt-4.1","mode":"list","cachedResultName":"GPT-4.1"},"messages":{"values":[{"content":"={{ $json.prompt }}","role":"system"},{"content":"=## Email Body:\n{{ $('When Executed by Another Workflow').item.json.body }}\n\n## Email Thread Summary:\n{{ $('When Executed by Another Workflow').item.json.threadSummary }}\n\n## Task Description:\n{{ $('When Executed by Another Workflow').item.json.taskDescription }}\n\n## Recipient:\n{{ $('When Executed by Another Workflow').item.json.recipientName }}\n\n## Sender: \n{{ $('When Executed by Another Workflow').item.json.senderName }}"}]},"options":{"maxTokens":"={{ $json.maxTokens }}","temperature":"={{ $json.temperature }}"}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[660,-80],"id":"c451750d-693b-4de2-8527-22620bf10fb2","name":"Draft Response","credentials":{"openAiApi":{"id":"hyDTTerH5EyySsq0","name":"OpenAi account"}}},{"parameters":{"workflowInputs":{"values":[{"name":"type"},{"name":"body"},{"name":"threadSummary"},{"name":"taskDescription"},{"name":"senderName"},{"name":"recipientName"}]}},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[0,-80],"id":"6515d38f-1983-46c7-9601-9f88ccae88ae","name":"When Executed by Another Workflow"},{"parameters":{"mode":"raw","jsonOutput":"={\"response\": {{ JSON.stringify($json.message.content) }}}","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1020,-80],"id":"47012cba-be14-4d33-9bdf-cb82075a131a","name":"Set Response"}],"connections":{"Task Type?":{"main":[[{"node":"Set App Draft Params","type":"main","index":0}],[{"node":"Set Event Draft Params","type":"main","index":0}],[{"node":"Set Reply Draft Params","type":"main","index":0}],[{"node":"Set Review Draft Params","type":"main","index":0}]]},"Set Review Draft Params":{"main":[[{"node":"Draft Response","type":"main","index":0}]]},"Set Reply Draft Params":{"main":[[{"node":"Draft Response","type":"main","index":0}]]},"Set Event Draft Params":{"main":[[{"node":"Draft Response","type":"main","index":0}]]},"Set App Draft Params":{"main":[[{"node":"Draft Response","type":"main","index":0}]]},"Draft Response":{"main":[[{"node":"Set Response","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"Task Type?","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","callerPolicy":"workflowsFromSameOwner","errorWorkflow":"3DwlFyiaSzmnZPkS"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"8dbc9960-5fc2-4355-9ba7-7a139443636d","triggerCount":1,"tags":[]}