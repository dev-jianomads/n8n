{"createdAt":"2025-05-20T22:51:24.169Z","updatedAt":"2025-05-21T18:21:30.000Z","id":"lkw9CgVhwe5W5k6a","name":"Backup Workflows","active":false,"nodes":[{"parameters":{"rule":{"interval":[{"triggerAtMinute":42}]}},"id":"4942d6eb-f19e-4b2f-98a8-0643f1a3ea66","name":"Schedule Trigger","type":"n8n-nodes-base.scheduleTrigger","position":[-760,220],"typeVersion":1.2},{"parameters":{"resource":"file","owner":{"__rl":true,"value":"dev-jianomads","mode":"name"},"repository":{"__rl":true,"value":"n8n","mode":"list","cachedResultName":"n8n","cachedResultUrl":"https://github.com/dev-jianomads/n8n"},"filePath":"={{ $today.format('yyyy-MM-dd') }}/{{ $json.name }}.json","fileContent":"={{ JSON.stringify($json) }}","commitMessage":"={{ $today.format('yyyy-MM-dd') }} backup"},"type":"n8n-nodes-base.github","typeVersion":1.1,"position":[360,240],"id":"1d81efe9-4a1f-40e7-9ec3-987025d32d74","name":"GitHub","webhookId":"d319f83f-041b-4586-bb2a-badef64def92","credentials":{"githubApi":{"id":"hglN1hYwJtoGYD65","name":"GitHub JESUS"}},"onError":"continueErrorOutput"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[120,220],"id":"e5cff24e-8087-4112-a04a-c6045ff622f8","name":"Loop Over Items"},{"parameters":{"filters":{},"requestOptions":{}},"id":"9fcda7ac-c7bb-48f3-86bc-fe2178ef1e9d","name":"Get All Workflows","type":"n8n-nodes-base.n8n","position":[-100,220],"typeVersion":1,"executeOnce":true,"credentials":{"n8nApi":{"id":"pVzXz0AGwT9o6c18","name":"n8n account"}}},{"parameters":{"resource":"file","operation":"delete","owner":{"__rl":true,"value":"CortadoAI","mode":"name"},"repository":{"__rl":true,"value":"cortado-n8n","mode":"list","cachedResultName":"cortado-n8n","cachedResultUrl":"https://github.com/CortadoAI/cortado-n8n"},"filePath":"={{ $json.path }}","commitMessage":"=Delete old backup: {{ $json.name }}"},"type":"n8n-nodes-base.github","typeVersion":1.1,"position":[-320,140],"id":"c4619911-f8b7-49d8-a9f5-a76d4cf05450","name":"Delete Files","webhookId":"0e1b1ae5-7d8b-4546-a7af-463a9797658e","credentials":{"githubApi":{"id":"hglN1hYwJtoGYD65","name":"GitHub JESUS"}},"onError":"continueErrorOutput"},{"parameters":{"resource":"file","operation":"list","owner":{"__rl":true,"value":"dev-jianomads","mode":"name"},"repository":{"__rl":true,"value":"n8n","mode":"list","cachedResultName":"n8n","cachedResultUrl":"https://github.com/dev-jianomads/n8n"},"filePath":"=dev/{{ $today.plus('-7', 'days').format('yyyy-MM-dd') }}"},"type":"n8n-nodes-base.github","typeVersion":1.1,"position":[-540,220],"id":"9719b59c-1ddd-4d12-a8f8-32be64064274","name":"Get Backups from 1 week ago","webhookId":"2312b334-0961-4dfc-a693-eaff1a81da0d","credentials":{"githubApi":{"id":"hglN1hYwJtoGYD65","name":"GitHub JESUS"}},"onError":"continueErrorOutput"}],"connections":{"Schedule Trigger":{"main":[[{"node":"Get Backups from 1 week ago","type":"main","index":0}]]},"GitHub":{"main":[[{"node":"Loop Over Items","type":"main","index":0}],[{"node":"Loop Over Items","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"GitHub","type":"main","index":0}]]},"Get All Workflows":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Delete Files":{"main":[[{"node":"Get All Workflows","type":"main","index":0}],[{"node":"Get All Workflows","type":"main","index":0}]]},"Get Backups from 1 week ago":{"main":[[{"node":"Delete Files","type":"main","index":0}],[{"node":"Get All Workflows","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"22ff7da1-ffff-470b-bd8b-b167d95753fb","triggerCount":0,"tags":[]}