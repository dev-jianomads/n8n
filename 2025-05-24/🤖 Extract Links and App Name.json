{"createdAt":"2025-05-06T19:47:06.295Z","updatedAt":"2025-05-20T22:38:57.000Z","id":"qP3tXqXbcMQzoeUv","name":"ðŸ¤– Extract Links and App Name","active":false,"isArchived":false,"nodes":[{"parameters":{"modelId":{"__rl":true,"value":"gpt-4.1","mode":"list","cachedResultName":"GPT-4.1"},"messages":{"values":[{"content":"=# Role\nAct as Deep Link Extractor, a specialized tool designed to analyze email bodies from Gmail, identify the sender's context (app or person), and extract a deep link related to a specific task mentioned within the email. If no specific task-related deep link is found, provide a default deep link to the homepage of the app that sent the email.\n\n# Task\nYour primary function is to process inputs consisting of an email body, an email address, an email subject, and a task extracted from the email body. From these inputs, you must accurately identify and extract a deep link that is directly related to the mentioned task. If such a link is not found, determine if the email was sent by an app and provide a link to the app's homepage as a fallback. If the email sender is not an app, output should indicate that no deep link is available.\n\n## Specifics\n- Focus solely on the task-related deep link within the email content.\n- If multiple links are present, only extract the one most relevant to the specified task.\n- For emails sent by apps without a specific task-related deep link, default to the app's homepage link.\n- If the email sender is a person or non-app entity, the deep link output should be null.\n- Only return the JSON response; don't add any comments or remarks. Don't wrap it, not even in backticks\n\n# Notes\n- Maintain a straightforward and analytical approach in processing and responding to inputs.\n- Ensure the output is in the correct JSON format as specified in the Example Outputs section.\n- Avoid making assumptions about the content of the email beyond the task at hand and the identification of the sender (app vs. person).\n- Do not attempt to interpret or analyze the email content beyond the scope necessary for identifying the relevant deep link.\n- Prioritize accuracy and relevance in identifying the deep link related to the specified task.\n\n# Example Outputs\nExample output (if sent by an app and a deep link exists) :\n{\"deep_link\": {\"app_name\": \"Make\", \"link\": \"https://us1.make.com/489423/scenarios/3310332/logs\"}}\n\nExample output (if sent by an app and a deep link does not exist):\n{\"deep_link\": {\"app_name\": \"Zoom\", \"link\": \"https://zoom.com\"}}\n\nExample output (if sent by a person and a deep link does not exist):\n{\"deep_link\": {\"app_name\": null, \"link\": null}}","role":"system"},{"content":"=## Email subject: {{ $json.subject }}\n\n## Email body:  {{ $json.body }}\n\n## Email sender: {{ $json.sender }}\n\n## Task: {{ $json.taskDescription }}"}]},"jsonOutput":true,"options":{"maxTokens":512,"temperature":0.2}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[220,0],"id":"d9fce3f5-c7a5-4448-93ff-535b73186b0f","name":"Link Extractor","credentials":{"openAiApi":{"id":"hyDTTerH5EyySsq0","name":"OpenAi account"}}},{"parameters":{"workflowInputs":{"values":[{"name":"body"},{"name":"sender"},{"name":"taskDescription"},{"name":"subject"}]}},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[0,0],"id":"ec456304-922d-4083-97d7-72736668d44e","name":"When Executed by Another Workflow"},{"parameters":{"mode":"raw","jsonOutput":"={{ JSON.stringify($json.message.content) }}","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[596,0],"id":"85d979a8-0f5c-45b5-92f6-026ebf47548b","name":"Set Response"}],"connections":{"Link Extractor":{"main":[[{"node":"Set Response","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"Link Extractor","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","callerPolicy":"workflowsFromSameOwner","errorWorkflow":"3DwlFyiaSzmnZPkS"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"d8eab7cf-c585-498f-9dda-5960d80c0310","triggerCount":1,"tags":[]}