{"updatedAt":"2025-11-23T01:57:53.615Z","createdAt":"2025-11-23T01:00:25.760Z","id":"jTOj9N8aN5Wjh8dT","name":"[Slack] Search Contacts in Vector Store","active":false,"isArchived":false,"nodes":[{"parameters":{"workflowInputs":{"values":[{"name":"user_id"},{"name":"query"},{"name":"channel_id"},{"name":"message_ts"},{"name":"slack_user_id"}]}},"id":"9285f3fe-f3d3-407e-9119-0cefcb3e74e4","typeVersion":1.1,"name":"When Executed by Another Workflow","type":"n8n-nodes-base.executeWorkflowTrigger","position":[-832,460]},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[-312,432],"id":"c78069c4-b307-46cb-9438-1805d2efdec3","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"JNBPFneOXwzjzSKh","name":"OpenAI account"}}},{"parameters":{"mode":"load","prompt":"={{ $('When Executed by Another Workflow').item.json.query }}","topK":5,"options":{"metadata":{"metadataValues":[{"name":"user_id","value":"={{ $json.user_id }}"},{"name":"source","value":"google"}]}}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[-384,208],"id":"826360a2-67f7-4955-9f65-c6d31f8468be","name":"[Google] Contacts","credentials":{"postgres":{"id":"hcrXy03eb7cfXzVe","name":"Supabase TX Pooler"}}},{"parameters":{"mode":"load","prompt":"={{ $('When Executed by Another Workflow').item.json.query }}","topK":5,"options":{"metadata":{"metadataValues":[{"name":"user_id","value":"={{ $json.user_id }}"},{"name":"source","value":"conversation"}]}}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[-384,608],"id":"0076de96-67d5-4ed1-9a62-199c5f9ac942","name":"[Conversation] Contacts","credentials":{"postgres":{"id":"hcrXy03eb7cfXzVe","name":"Supabase TX Pooler"}}},{"parameters":{"assignments":{"assignments":[{"id":"e599b1de-86bc-475c-a2a7-937e9dcde816","name":"pageContent","value":"={{ $json.document.pageContent }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[192,460],"id":"47ff1cdc-01b9-41d3-a40e-a77a09542be8","name":"Simplify Output"},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[-32,460],"id":"4b9e1af5-1f46-4ed0-bc60-74b58a76155f","name":"Append"},{"parameters":{"workflowId":{"__rl":true,"value":"C9WHFGRGrjz2nQWC","mode":"list","cachedResultUrl":"/workflow/C9WHFGRGrjz2nQWC","cachedResultName":"[Slack] Edit Message"},"workflowInputs":{"mappingMode":"defineBelow","value":{"slack_user_id":"={{ $json.slack_user_id }}","channel_id":"={{ $json.channel_id }}","message_ts":"={{ $json.message_ts }}","text":"_Searching contacts... :mag:_"},"matchingColumns":[],"schema":[{"id":"slack_user_id","displayName":"slack_user_id","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"text","displayName":"text","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"channel_id","displayName":"channel_id","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"message_ts","displayName":"message_ts","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.3,"position":[-608,460],"id":"290eeeb0-6422-4bf1-8ff1-c2b7c7328c6d","name":"Call '[Slack] Edit Message'"}],"connections":{"When Executed by Another Workflow":{"main":[[{"node":"Call '[Slack] Edit Message'","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"[Google] Contacts","type":"ai_embedding","index":0},{"node":"[Conversation] Contacts","type":"ai_embedding","index":0}]]},"[Google] Contacts":{"main":[[{"node":"Append","type":"main","index":0}]]},"[Conversation] Contacts":{"main":[[{"node":"Append","type":"main","index":1}]]},"Append":{"main":[[{"node":"Simplify Output","type":"main","index":0}]]},"Call '[Slack] Edit Message'":{"main":[[{"node":"[Google] Contacts","type":"main","index":0},{"node":"[Conversation] Contacts","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{"When Executed by Another Workflow":[{"json":{"user_id":"qZT6blvRgXN0eb2GWKK7gQCBbY2s","query":"Geoff","channel_id":"1598386790","message_ts":"4387","slack_user_id":"abc"}}]},"versionId":"d3ac044f-b924-4fd1-957a-50dffcdf0e5c","triggerCount":0,"shared":[{"updatedAt":"2025-11-23T01:00:25.760Z","createdAt":"2025-11-23T01:00:25.760Z","role":"workflow:owner","workflowId":"jTOj9N8aN5Wjh8dT","projectId":"8nyfoRCh3nEYWaKJ"}],"tags":[]}